(()=>{"use strict";const e=[{paramId:"glbtools",widgetId:"glbTools",urlBase:"https://s3.glbimg.com/v1/AUTH_f75bb4776e3c4683acd769d47144995f/tools/widget-tools/1.8.0/",assetWidget:"loadWidgetToolsFull.min.js",version:"",launcherOptions:{svg:"https://s3.glbimg.com/v1/AUTH_f75bb4776e3c4683acd769d47144995f/tools/img/glbToolsExtensionsSingle.svg",label:"glb tools",placement:"menu"}}];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},a.apply(this,arguments)}var t={toLoad:{},widgets:[]},l=a=>e.find((e=>e.paramId===a)),n=e=>t.widgets.find((a=>a.paramId===e)),i=e=>"glb-widget-data-"+e,o=e=>{var a=i(e),t=n(e);globalThis.localStorage.setItem(a,JSON.stringify(t))},s=(e,a)=>{var t=n(e);t&&(t.isOpened=a,o(e))},d=e=>{var a,t=l(e);if(!t.loaded){var n=(e=>""+e.urlBase+e.assetWidget)(t);console.log("== [widgetLauncher::runWidget]",n);try{globalThis.cdaaas.helpers.loadScript(n,(()=>{t.loaded=!0}))}catch(e){console.error(e)}}a=t.widgetId,document.dispatchEvent(new CustomEvent("glb.widgetLauncher.widget.launch",{detail:{widgetId:a}}))},r=()=>{Object.keys(t.toLoad).forEach((e=>{var n,i,s,r,g;n=t.toLoad[e],s=l(n.paramId),r=n.version||s.version,g=a({},(null==n?void 0:n.data)||{},{paramId:n.paramId,version:r}),n.isStateless||t.widgets.push(g),n.isFromUrl&&!n.isStateless&&o(n.paramId),s.launcherOptions&&(e=>{var a=l(e);a.launcherOptions&&"menu"===a.launcherOptions.placement&&(e=>{var a,t=()=>{var a=globalThis.document.querySelector("#menu-container .menu-login > ul");if(a){var t,l=document.createElement("li");l.setAttribute("class","menu-login__item");var{label:n}=e.launcherOptions,i=null==e||null==(t=e.launcherOptions)?void 0:t.svg,o='\n        <a class="menu-login__item__link" href="#" title="'+n+'">\n          '+(i?function(e,a){var{fileType:t="svg",width:l=48,height:n=48,fill:i,classes:o=""}=void 0===a?{}:a;return'<object data="'+e+'" '+(o?'class="'+o+'"':"")+' width="'+l+'" height="'+n+'" '+(i?'onload="this.contentDocument.querySelector('+t+").fill = '"+i+"'\"":"")+"></object>"}(i,{width:18,height:18,classes:"menu-login__item__link__icon"}):"")+"\n          <span>"+n+"</span>\n        </a>\n      ";l.innerHTML=o,l.onclick=a=>{a.preventDefault(),document.dispatchEvent(new CustomEvent("glb.mobileMenuV2.open")),d(e.paramId)},a.append(l)}};null!=globalThis&&null!=(a=globalThis.glb)&&a.menuReady?t():document.addEventListener("glb.fn.menuReady",t,{once:!0})})(a)})(n.paramId),(!s.launcherOptions||null!=n&&null!=(i=n.data)&&i.isOpened)&&d(n.paramId)}))};t.init=()=>{try{n=(a,t)=>{var l=(a=>e.find((e=>e.widgetId===a)))(a);l&&s(l.paramId,t)},document.addEventListener("glb.widgetLauncher.widget.update.opened",(e=>{n(e.detail.widgetId,!0)})),document.addEventListener("glb.widgetLauncher.widget.update.closed",(e=>{n(e.detail.widgetId,!1)})),e.forEach((e=>{var a=(e=>{var a=i(e),t=globalThis.localStorage.getItem(a);return t?JSON.parse(t):null})(e.paramId);a&&(t.toLoad[e.paramId]={paramId:e.paramId,version:e.version,data:a})})),(()=>{var e=new URLSearchParams(globalThis.location.search),n=e.get("glb-widget-load");if(n){var i=e.get("glb-widget-version"),o=e.get("glb-widget-stateless");l(n)&&(t.toLoad[n]=a({},t.toLoad[n]||{},{paramId:n,version:i,isStateless:o,isFromUrl:!0}))}})(),r()}catch(e){console.error(e)}var n},t.runWidget=d,t.saveStateOpened=s;const g=t;globalThis.glbWidgetLauncher||(globalThis.glbWidgetLauncher=g,globalThis.glbWidgetLauncher.init())})();