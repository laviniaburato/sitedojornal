/*! For license information please see libanalytics.js.LICENSE.txt */
(()=>{var e={38:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var i={AVOID_COOKIE_USAGE:!1,EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_SENDER_MIN_INTERVAL:5e3,EVENTS_SENDER_MAX_INTERVAL:2e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_TRACK_IDENTIFICATION_RESOURCE:"id",HORIZON_TRACK_HOST:"horizon-track.globo.com",HORIZON_CLIENT_UUID:r(n(2)).default.getResource("clientInstanceUUID",(0,o.default)()),HORIZON_REQUEST_ENCODING:"base64",HORIZON_SCHEMAS_HOST:"horizon-schemas.globo.com",IDENTIFICATION_LOAD_RETRY_AFTER_MSECS:5e3,PACKAGE_VERSION:"1.11.0",SCHEMA_VALIDATOR_SCRIPT_URL:"s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,USE_HTTPS:!0},a={avoidCookieUsage:function(){i.AVOID_COOKIE_USAGE=!0},useHTTPOnly:function(){i.USE_HTTPS=!1},useQAConfiguration:function(){i.HORIZON_TRACK_HOST="horizon-track.qa.globoi.com",i.HORIZON_SCHEMAS_HOST="horizon-schemas.qa.globoi.com",i.HORIZON_REQUEST_ENCODING="json"},useJSONEncoding:function(){i.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(i,a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resource.",INVALID_AUTH_TOKEN:"[Horizon] Invalid authorization token.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_STRING_NUMERIC_STRING:"[Horizon] numericString should be string.",INVALID_EMPTY_NUMERIC_STRING:"[Horizon] numericString should be empty.",INVALID_NUMERIC_STRING:"[Horizon] Invalid number. Field with NumericString must to be number.",INVALID_ENVIRONMENT:"[Horizon] Invalid environment value.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",INVALID_RELATION_ID:"[Horizon] Invalid relation identification.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE:"[Horizon] Can not set or remove a logged user when AVOID_COOKIE_USAGE is not enabled."},r={mustBeDefined:function(e){throw new Error(o.MUST_BE_DEFINED+": "+e+".")}};t.default=Object.assign(o,r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return window.horizonResources=window.horizonResources||{},window.horizonResources};t.default={getContext:o,getResource:function(e,t){var n=o();return n[e]=n[e]||t,n[e]}}},function(e,t,n){var o=n(11),r=n(12);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||r(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={execAsync:function(e,t){setTimeout((function(){return e(t)}),1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,o){var r=new XMLHttpRequest;r.open(e,t,!0),r.onload=function(){return r.status<400?n(JSON.parse(r.response)):o(r.response)},r.onerror=o,r.send()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(4)),i=c(n(2)),a=c(n(1)),s=c(n(5)),u=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){return i.default.getResource("idManager",{loggedIDs:null,anonymousIDs:null,sessionIDs:null})},d=["GLBID","GST","EXT_ID"],f="statusReady",g="statusNotReady",h="statusLoading",v="statusScheduled",p="statusError",y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=n?f:g,this.url=t,this.bypass=n,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return o(e,[{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===f)return e(this.getClientIDs());if(this.callbacks.onReady.length>u.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(a.default.LIMIT_EXCEEDED+" IDManager callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===p?e():this.callbacks.onError.push(e)}},{key:"getAsKeyValue",value:function(){if(!this.isReady())throw new Error(""+a.default.COMPONENT_NOT_READY);if(this.bypass)return"";var e=this.getClientIDs();return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},{key:"getClientIDs",value:function(){var e=l();return Object.assign(e.loggedIDs||{},e.anonymousIDs||{},e.sessionIDs||{})}},{key:"isReady",value:function(){return this.state===f}},{key:"retry",value:function(){var e=this;this.state=v,this.callbacks.onRetry.forEach((function(e){return e()})),setTimeout((function(){e.state=g,e.load()}),u.default.IDENTIFICATION_LOAD_RETRY_AFTER_MSECS)}},{key:"setLoggedUser",value:function(e,t){if(-1===d.indexOf(e))throw Error(a.default.INVALID_AUTH_TOKEN);var n=l();n.loggedIDs=Object.assign(n.loggedIDs||{},function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"setAnonymousUser",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=l();if(null==n.anonymousIDs||t){if(!("glb_uid"in e)||!("glb_uid_public"in e))throw a.default.mustBeDefined("glb_uid and glb_uid_public");var o={glb_uid:e.glb_uid,glb_uid_public:e.glb_uid_public};n.anonymousIDs=Object.assign(n.anonymousIDs||{},o)}}},{key:"getAnonymousUser",value:function(){return l().anonymousIDs}},{key:"getHsid",value:function(){return l().sessionIDs}},{key:"setSessionID",value:function(e){e.hsid&&(l().sessionIDs=Object.assign({},{hsid:e.hsid}))}},{key:"removeLoggedUser",value:function(){var e=l();d.forEach((function(t){e.loggedIDs[t]&&delete e.loggedIDs[t]}))}},{key:"load",value:function(){var e=this;if(this.state===g){this.state=h,this.callbacks.onLoad.forEach((function(e){return e()}));var t=u.default.USE_HTTPS?"https://":"http://";s.default.request("GET",""+t+this.url,(function(t){e.setSessionID(t),e.setAnonymousUser(t,!1),e.state=f,e.callbacks.onReady.forEach((function(t){return r.default.execAsync(t,e.getClientIDs())}))}),(function(t){e.state=p,e.callbacks.onError.forEach((function(e){return r.default.execAsync(e,t)})),e.retry()}))}}}]),e}(),b=function(e){var t=l();if(!t.instance){var n=e||u.default.HORIZON_TRACK_HOST+"/"+u.default.HORIZON_TRACK_IDENTIFICATION_RESOURCE,o=!1===u.default.AVOID_COOKIE_USAGE;t.instance=new y(n,o)}return t.instance};t.default={getInstance:b,getContextManager:l,setLoggedUser:function(e,t){if(!u.default.AVOID_COOKIE_USAGE)throw Error(a.default.USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE);e&&0!==e.length||a.default.mustBeDefined("tokenName"),t&&0!==t.length||a.default.mustBeDefined("tokenValue"),b().setLoggedUser(e,t)},removeLoggedUser:function(){if(!u.default.AVOID_COOKIE_USAGE)throw Error(a.default.USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE);b().removeLoggedUser()},setAnonymousUser:function(e){b().setAnonymousUser(e)},getAnonymousUser:function(){return b().getAnonymousUser()},getHsid:function(){return b().getHsid()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDManager=t.Settings=t.HorizonClient=void 0,n(8);var o=a(n(10)),r=a(n(0)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var s={setLoggedUser:i.default.setLoggedUser,removeLoggedUser:i.default.removeLoggedUser,setAnonymousUser:i.default.setAnonymousUser,getAnonymousUser:i.default.getAnonymousUser,getHsid:i.default.getHsid};t.HorizonClient=o.default,t.Settings=r.default,t.IDManager=s},function(e,t,n){"use strict";n(9).polyfill()},function(e,t,n){"use strict";function o(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i=Object.keys(Object(r)),a=0,s=i.length;a<s;a++){var u=i[a],c=Object.getOwnPropertyDescriptor(r,u);void 0!==c&&c.enumerable&&(n[u]=r[u])}}return n}e.exports={assign:o,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=h(n(3)),a=h(n(0)),s=h(n(13)),u=h(n(1)),c=h(n(15)),l=h(n(26)),d=h(n(27)),f=h(n(6)),g=h(n(2));function h(e){return e&&e.__esModule?e:{default:e}}var v="stateReady",p="stateNotReady",y="stateLoading",b=["web","instant-article","app"],E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"web";if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tenant=t||d.default.getTenant()||u.default.mustBeDefined("tenant"),this.deviceGroup=n||d.default.getDeviceGroup()||u.default.mustBeDefined("deviceGroup"),this.defaultContentType=r,-1===b.indexOf(h))throw Error(u.default.INVALID_ENVIRONMENT);this.environment=h,this.validator=s.default,this.clientVersion=a.default.PACKAGE_VERSION,this.state=p,this.referer=document.referrer;var v=null,y=null,E=null,m=function(){return g.default.getResource("horizonActionInfo",{horizonActionSequence:0,horizonClientContextID:(0,i.default)()})};this.getHorizonActionSequence=function(){var e=m();return 2147483647===e.horizonActionSequence&&(e.horizonActionSequence=0),e.horizonActionSequence+=1,e.horizonActionSequence},this.getHorizonClientContextID=function(){return m().horizonClientContextID},this.getHorizonActionExtraAttributes=function(){return""},this.updateHorizonClientContextID=function(){m().horizonClientContextID=(0,i.default)()},this.setSchemasProvider=function(e){v=e},this.getSchemasProvider=function(){if(!v){var e=l.default.getInstance();o.setSchemasProvider(e)}return v},this.setEventBus=function(e){y=e},this.getEventBus=function(){if(!y){var e=c.default.getInstance(o.tenant,o.deviceGroup,o.environment,o.getIdManager());o.setEventBus(e)}return y},this.setIdManager=function(e){E=e},this.getIdManager=function(){if(!E){var e=f.default.getInstance();o.setIdManager(e)}return E},this.isReady=function(){return!!v&&!!E&&o.validator.isReady()&&v.isReady()&&E.isReady()},window.addEventListener("beforeunload",(function(){o.unload()}))}return r(e,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"setReferer",value:function(e){this.referer=e||document.referrer}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(e){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion,horizonClientReferer:this.referer,horizonRelationId:e,horizonActionUUID:(0,i.default)(),horizonActionSequence:this.getHorizonActionSequence(),horizonClientContextID:this.getHorizonClientContextID(),horizonActionExtraAttributes:this.getHorizonActionExtraAttributes()}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?this.getIdManager().isReady()?(this.state=v,e()):(this.state=y,this.getIdManager().onReady(e),this.getIdManager().load()):(this.state=y,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=y,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady((function(){return e.flush()}))}},{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=n&&"string"!=typeof n)throw new Error(u.default.INVALID_RELATION_ID+" Wrong relationId type. It should be a String: actual type is "+(void 0===n?"undefined":o(n)));[].concat(e).forEach((function(e){t.validator.validateArgs(e),t.sendWithInfo(e,t.getScopeInfo(n))}))}},{key:"sendWithInfo",value:function(e,t){var n=this;if(!this.isReady())return this.state===p&&this.flush(),void this.onReady((function(){return n.sendWithInfo(e,t)}));this.validateBeforeEnqueue(e);var o=Object.assign({},t,e);o.contentType||(this.defaultContentType||u.default.mustBeDefined("contentType"),o.contentType=this.defaultContentType),this.getEventBus().enqueue(o)}},{key:"newContextId",value:function(){this.updateHorizonClientContextID()}},{key:"getContextId",value:function(){return this.getHorizonClientContextID()}}]),e}();t.default=E},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,r=n;return[r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(14)),i=s(n(1)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u={ready:[]},c=["url"],l=function(){return!!window.tv4},d=function(e){return null===e||isNaN(e)&&!isNaN(Date.parse(e))?null:i.default.INVALID_DATE},f=function(e){return"string"!=typeof e?i.default.INVALID_STRING_NUMERIC_STRING:""===e.trim()?i.default.INVALID_EMPTY_NUMERIC_STRING:Number.isFinite(Number(e))?null:i.default.INVALID_NUMERIC_STRING};t.default={validateFor:function(e,t){if(!l())throw new Error(i.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(i.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(i.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(i.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(e){var t=Object.prototype.hasOwnProperty;if(!(e&&t.call(e,"id")&&t.call(e,"version")&&t.call(e,"properties")))throw new Error(i.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(e));if("string"!=typeof e.id||"string"!=typeof e.version||"object"!==o(e.properties))throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(c.filter((function(t){return e[t]&&"string"!=typeof e[t]})).length>0)throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(e.id.length<2||e.version.length<3)throw new Error(i.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(e));var n=Object.assign({},e);delete n.id,delete n.version,delete n.properties,delete n.contentType;var r=Object.keys(n);if(r.length>0&&!r.every((function(e){return-1!==c.indexOf(e)})))throw new Error(i.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:d,tv4IsNumericString:f,isReady:l,onReady:function(e){if(l())return e();if(u.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Validator callback stack.");return u.ready.unshift(e)},load:function(){if(!r.default.isDefined("tv4")){var e=(a.default.USE_HTTPS?"https://":"http://")+a.default.SCHEMA_VALIDATOR_SCRIPT_URL;(0,r.default)([e],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",d),tv4.addFormat("numericString",f),u.ready.forEach((function(e){return e()}))},error:function(e){throw new Error(i.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}})}}}},function(e,t,n){var o,r,i,a;a=function(){var e=function(){},t={},n={},o={};function r(e,t){if(e){var r=o[e];if(n[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function i(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,o,r){var i,s,u=document,c=o.async,l=(o.numRetries||0)+1,d=o.before||e,f=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(t)?((s=u.createElement("link")).rel="stylesheet",s.href=f,(i="hideFocus"in s)&&s.relList&&(i=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(s=u.createElement("img")).src=f:((s=u.createElement("script")).src=t,s.async=void 0===c||c),s.onload=s.onerror=s.onbeforeload=function(e){var u=e.type[0];if(i)try{s.sheet.cssText.length||(u="e")}catch(e){18!=e.code&&(u="e")}if("e"==u){if((r+=1)<l)return a(t,n,o,r)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";n(t,u,e.defaultPrevented)},!1!==d(t,s)&&u.head.appendChild(s)}function s(e,n,o){var s,u;if(n&&n.trim&&(s=n),u=(s?o:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function c(t,n){!function(e,t,n){var o,r,i=(e=e.push?e:[e]).length,s=i,u=[];for(o=function(e,n,o){if("e"==n&&u.push(e),"b"==n){if(!o)return;u.push(e)}--i||t(u)},r=0;r<s;r++)a(e[r],o,n)}(e,(function(e){i(u,e),t&&i({success:t,error:n},e),r(s,e)}),u)}if(u.returnPromise)return new Promise(c);c()}return s.ready=function(e,t){return function(e,t){var r,i,a,s=[],u=(e=e.push?e:[e]).length,c=u;for(r=function(e,n){n.length&&s.push(e),--c||t(s)};u--;)i=e[u],(a=n[i])?r(i,a):(o[i]=o[i]||[]).push(r)}(e,(function(e){i(t,e)})),s},s.done=function(e){r(e,[])},s.reset=function(){t={},n={},o={}},s.isDefined=function(e){return e in t},s},r=[],void 0===(i="function"==typeof(o=a)?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(16);var r=d(n(2)),i=d(n(17)),a=d(n(0)),s=d(n(1)),u=d(n(22)),c=d(n(24)),l=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){return r.default.getResource("bus",{})},g=function(){function e(t,n,o,r,i){var d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTenant=t||s.default.mustBeDefined("tenant"),this.instanceID=n||s.default.mustBeDefined("instanceID"),this.deviceGroup=o||s.default.mustBeDefined("deviceGroup"),this.environment=r||s.default.mustBeDefined("environment"),this.queue=new c.default(a.default.EVENTS_BUFFER_SIZE),this.idManager=i,this.dispatchNumber=1,this.actionCounter=0,(new l.default).every(a.default.EVENTS_SENDER_INTERVAL).call((function(){d.queue=d.filterQueue();var e=d.prepareRequest();d.dispatch(e,a.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach((function(e){return d.enqueue(e)}))})).call(u.default.applyThrottlingPolicy).start()}return o(e,[{key:"setMaxQueueSize",value:function(e){this.queue=c.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var e=+Date.now()-a.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter((function(t){return t.actionTs>e}))}},{key:"prepareRequest",value:function(){var e=this.queue.splice(0,a.default.EVENTS_BULK_SIZE);return this.actionCounter+=e.length,{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,horizonDispatchNumber:this.dispatchNumber,horizonActionCounter:this.actionCounter,horizonEnvironment:this.environment,actions:e}}},{key:"isValidRequest",value:function(e){if(!e||e&&!e.actions)throw new Error(s.default.INVALID_REQUEST);return e.actions.length>0}},{key:"sendByFetch",value:function(e,t){try{return fetch(e,{method:"POST",credentials:"include",body:t}).then((function(e){e.ok||console.error("Failed to send Horizon events using fetch. Status "+e.status+" - "+e.statusText)})),!0}catch(e){return!1}}},{key:"sendByXMLHttpRequest",value:function(e,t,n){try{var o=new XMLHttpRequest;return o.open("POST",e),o.withCredentials=!0,"json"===n&&o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){var e=o.status,t=o.statusText;0===e||e>=200&&e<400||console.error("Failed to send Horizon events using XMLHttpRequest. Status "+e+" - "+t)}},o.send(t),!0}catch(e){return!1}}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=a.default.USE_HTTPS?"https://":"http://",o=this.idManager.getAsKeyValue(),r=o?"?"+o:"",s=""+n+u.default.applyDestinationPolicy()+"/event/"+this.currentTenant+r,c=i.default.get(t);if(!this.isValidRequest(e))return!1;this.dispatchNumber+=1;var l=c(e),d=!1,f=!1,g=!1;try{d=navigator.sendBeacon(s,l)}catch(e){d=!1}return d||(g=this.sendByFetch(s,l))||(f=this.sendByXMLHttpRequest(s,l,t)),d||g||f}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(s.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,a.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),e}();t.default={getInstance:function(e,t,n,o){var r=f(),i=e+"-"+t;return r[i]||(r[i]=new g(e,a.default.HORIZON_CLIENT_UUID,t,n,o)),r[i]},reset:function(e,t){e&&0!==e.length||s.default.mustBeDefined("tenant"),t&&0!==t.length||s.default.mustBeDefined("deviceGroup");var n=e+"-"+t;delete f()[n]},getContextBus:f}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){(function(){return"navigator"in this&&"sendBeacon"in this.navigator}).call(this)||("navigator"in this||(this.navigator={}),this.navigator.sendBeacon=function(e,t){var n=this.event&&this.event.type,o="unload"===n||"beforeunload"===n,r="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("POST",e,!o),r.withCredentials=!0,r.setRequestHeader("Accept","*/*"),function(e){return"string"==typeof e}(t)?(r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.responseType="text/plain"):function(e){return e instanceof Blob}(t)&&t.type&&r.setRequestHeader("Content-Type",t.type);try{r.send(t)}catch(e){return!1}return!0}.bind(this))}).call("object"===("undefined"==typeof window?"undefined":n(window))?window:{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(18)),r=a(n(21)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s={base64:function(e){var t=new FormData;return t.append("data",o.default.encode(r.default.encode(JSON.stringify(e)))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in s))throw new Error(i.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return s[e]}}},function(e,t,n){(function(e,o){var r;!function(i){var a=("object"==typeof e&&e&&e.exports,"object"==typeof o&&o);a.global!==a&&a.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new s(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,o,r,i=e.length%3,a="",s=-1,l=e.length-i;++s<l;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,o=e.charCodeAt(++s),a+=c.charAt((r=t+n+o)>>18&63)+c.charAt(r>>12&63)+c.charAt(r>>6&63)+c.charAt(63&r);return 2==i?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=c.charAt((r=t+n)>>10)+c.charAt(r>>4&63)+c.charAt(r<<2&63)+"="):1==i&&(r=e.charCodeAt(s),a+=c.charAt(r>>2)+c.charAt(r<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,r=0,i="",a=-1;++a<t;)o=c.indexOf(e.charAt(a)),n=r%4?64*n+o:o,r++%4&&(i+=String.fromCharCode(255&n>>(-2*r&6)));return i},version:"0.1.0"};void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}()}).call(t,n(19)(e),n(20))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){!function(e){var t,n,o,r=String.fromCharCode;function i(e){for(var t,n,o=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--):o.push(t);return o}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function s(e,t){return r(e>>t&63|128)}function u(e){if(0==(4294967168&e))return r(e);var t="";return 0==(4294965248&e)?t=r(e>>6&31|192):0==(4294901760&e)?(a(e),t=r(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=r(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+r(63&e|128)}function c(){if(o>=n)throw Error("Invalid byte index");var e=255&t[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(){var e,r;if(o>n)throw Error("Invalid byte index");if(o==n)return!1;if(e=255&t[o],o++,0==(128&e))return e;if(192==(224&e)){if((r=(31&e)<<6|c())>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if((r=(15&e)<<12|c()<<6|c())>=2048)return a(r),r;throw Error("Invalid continuation byte")}if(240==(248&e)&&(r=(7&e)<<18|c()<<12|c()<<6|c())>=65536&&r<=1114111)return r;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=i(e),n=t.length,o=-1,r="";++o<n;)r+=u(t[o]);return r},e.decode=function(e){t=i(e),n=t.length,o=0;for(var a,s=[];!1!==(a=l());)s.push(a);return function(e){for(var t,n=e.length,o=-1,i="";++o<n;)(t=e[o])>65535&&(i+=r((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=r(t);return i}(s)}}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(23)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}t.default={applyThrottlingPolicy:function(e){var t=r.default.EVENTS_SENDER_MIN_INTERVAL,n=r.default.EVENTS_SENDER_MAX_INTERVAL,i=Number(o.default.get("_hzt.interval"))||r.default.EVENTS_SENDER_INTERVAL;i<=n&&i>=t&&e.interval!==i&&e.reschedule(i)},applyDestinationPolicy:function(){return o.default.get("_hzt.host")||r.default.HORIZON_TRACK_HOST}}},function(e,t,n){var o,r,i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}return function t(n){function o(t,r,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},o.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in i)i[c]&&(u+="; "+c,!0!==i[c]&&(u+="="+i[c]));return document.cookie=t+"="+r+u}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var g=l[f].split("="),h=g.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var v=g[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,v):n(h,v)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===v){a=h;break}t||(a[v]=h)}catch(e){}}return a}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}((function(){}))},void 0===(r="function"==typeof(o=i)?o.call(t,n,t,e):o)||(e.exports=r),e.exports=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[],this.maxSize=t}return o(e,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(t){return e.fromArray(this._queue.filter(t),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(t,n){var o=new e(n);return t.forEach((function(e){return o.push(e)})),o}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}return o(e,[{key:"tick",value:function(){var e=this;this.callbacks.forEach((function(t){return t(e)}))}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(4)),i=c(n(2)),a=c(n(1)),s=c(n(0)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var l="statusReady",d="statusNotReady",f="statusLoading",g="statusScheduled",h="statusError",v=function(){return i.default.getResource("schemas",{data:{}})},p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.state=d,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return o(e,[{key:"get",value:function(e,t){var n=e+"-"+t;if(!this.isReady())throw new Error(""+a.default.COMPONENT_NOT_READY);var o=v().data[n];if(!o)throw new Error(a.default.UNSUPPORTED_TYPE+": "+n);return o}},{key:"isReady",value:function(){return this.state===l}},{key:"retry",value:function(){var e=this;this.state=g,this.callbacks.onRetry.forEach((function(e){return e()})),setTimeout((function(){e.state=d,e.load()}),s.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===l)return e(v().data);if(this.callbacks.onReady.length>s.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(a.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===h?e():this.callbacks.onError.push(e)}},{key:"load",value:function(){var e=this,t=v();if(this.state===d){this.state=f,this.callbacks.onLoad.forEach((function(e){return e()}));var n=s.default.USE_HTTPS?"https://":"http://";u.default.request("GET",""+n+this.url,(function(n){t.data=Object.assign(t.data||{},n),e.state=l,e.callbacks.onReady.forEach((function(e){return r.default.execAsync(e,t.data)}))}),(function(t){e.state=h,e.callbacks.onError.forEach((function(e){return r.default.execAsync(e,t)})),e.retry()}))}}}]),e}();t.default={getInstance:function(e){var t=v();return t.provider||(t.provider=new p(e||s.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return window.cdaaas&&window.cdaaas.SETTINGS?window.cdaaas.SETTINGS[e]:null},r=function(e){return window.utag_data?window.utag_data[e]:null};t.default={getTenant:function(){return o("SITE_ID")||r("ut.profile")||"unknown"},getDeviceGroup:function(){return o("MOBILE_GROUP")||r("platform")||"unknown"}}}])},251:e=>{function t(e){e.data&&Object.keys(e.data).forEach((t=>{let n={};n[t]=e.data[t],window.libAnalytics.data.set(n)})),e.config&&window.libAnalytics.config.noOverride.push(...e.config.noOverride)}e.exports.g=function(){return{noOverride:[],apply:t,ga4:{init:e=>{let t=e.metricId;t&&window.dataLayer.push({event:"libAnalyticsInitGa4Config",ga4MetricId:t})}}}}},306:(e,t,n)=>{const{getHorizonTenant:o}=n(171);function r(e){if(null===e||"object"!=typeof e)return e;if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t[n]=r(e[n]);return t}let t=Object.keys(e);const n={};return t.forEach((t=>{e.hasOwnProperty(t)&&(n[t]=r(e[t]))})),n}e.exports.i=function(){let e={};return new Proxy({set:function(t){Object.keys(t).forEach((n=>{e[n]=t[n]}))},get:function(...t){let n={};return t.forEach((t=>{n[t]=r(e[t])})),n},remove:function(...t){t.forEach((t=>{delete e[t]}))}},{set:function(e,t,n){if(["set","get","remove"].includes(t))console.warn(t+" é uma função reservada do libAnalytics.data e não pode ser alterada!");else{let o={};o[t]=n,e.set(o)}},get:function(e,t){return["set","get","remove"].includes(t)?e[t]:e.get(t)[t]}})},e.exports.m=async function(){const e=n(192).map((e=>window.libAnalytics.config.noOverride.includes(e.property)?window.libAnalytics.data[e]:new Promise(((t,n)=>{!async function(){let o=null;try{const t=e.params||[];o=await e.function(...t)}catch(e){n()}if(o||console.warn(`|libAnalytics| -> |Data|: Property ${e.property} is empty.`),window.libAnalytics.data[e.property]=o,e.callback)try{e.callback(o)}catch(e){throw e}t(o)}()}))));return Promise.allSettled(e)}},192:(e,t,n)=>{const{getHorizonTenant:o}=n(171),{variablesMap:r}=n(710),{getMetricId:i}=n(945);let{userResolver:a}=n(141);a=a(),e.exports=[{property:"horizonTenant",function:o},{property:"user_code",function:a.getUserCode,callback:r.user_code},{property:"user_code_provider",function:a.getUserProvider,callback:r.user_provider},{property:"ga4MetricId",function:i}]},945:e=>{e.exports={getMetricId:function(e){const t=window.location.hostname,n=window?.cdaaas?.SETTINGS?.SITE_ID;e=e||"url";let{rules:o,valueToMatch:r}={backstageTenant:{rules:{memoriaglobo:/memoriaglobo/i,historiaglobo:/historiaglobo/i,globofilmes:/globofilmes/i,globolivros:/globolivros/i,redeglobo:/redeglobo/i,mundogloob:/mundogloob/i,gatomestre:/gatomestre/i,interativosge:/interativosge/i,bhfm:/bhfm/i,cbn:/cbn/i,radioglobo:/radioglobo/i,g1:/g1/i,ge:/ge/i,gshow:/gshow/i,receitas:/receitas/i,dev:/dev/i},valueToMatch:n},url:{rules:{g1:/([\S]*g1.globo.com[\S]*)|([\S]*especiaisg1.globo[\S]*)|([\S]*especiais.g1.globo[\S]*)/i,gshow:/([\S]*gshow.globo.com[\S]*)/i,ge:/([\S]*ge.globo.com[\S]*)|([\S]*globoesporte.globo[\S]*)|([\S]*especiais.ge.globo[\S]*)/i,memoriaglobo:/([\S]*memoriaglobo.globo.com[\S]*)/i,historiaglobo:/([\S]*historiaglobo.globo.com[\S]*)/i,globofilmes:/([\S]*globofilmes.globo.com[\S]*)/i,globolivros:/([\S]*globolivros.globo.com[\S]*)/i,redeglobo:/([\S]*redeglobo.globo.com[\S]*)/i,mundogloob:/([\S]*mundogloob.globo.com[\S]*)/i,gatomestre:/([\S]*gatomestre.ge.globo.com[\S]*)/i,interativosge:/([\S]*interativos.ge.globo.com[\S]*)/i,bhfm:/([\S]*bhfm.globo.com[\S]*)/i,cbn:/([\S]*cbn.globoradio.globo.com[\S]*)/i,radioglobo:/([\S]*radioglobo.globo.com[\S]*)/i,receitas:/([\S]*receitas.globo.com[\S]*)/i,globoplay:/([\S]*globoplay.globo.com[\S]*)/i,premiere:/([\S]*premiere.globo.com[\S]*)/i,combate:/([\S]*combate.globo.com[\S]*)/i,cartola:/([\S]*cartola.globo.com[\S]*)/i,home:/(^www.globo.com)/i,vitrine:/([\S]*vitrine.globo.com[\S]*)/i,dev:/([\S]*dev.globo.com[\S]*)/i},valueToMatch:t}}[e];return{memoriaglobo:"G-QPECB9XXDY",historiaglobo:"G-P03LXCRJMJ",globofilmes:"G-EMM9KQCDE9",globolivros:"",redeglobo:"G-7D6HZKQYC8",mundogloob:"",gatomestre:"",interativosge:"",bhfm:"G-SWDXP7GY6D",cbn:"G-66QBBBG3XB",radioglobo:"G-R8X7DFEM60",g1:"G-4DF8YFDHV7",ge:"G-K8B6Y0T4CS",gshow:"G-W1G9LMC88G",receitas:"G-GYCLBK1JRG",globoplay:"G-WLHSK1RZ32",premiere:"G-TH6ECKBNLK",combate:"G-62M5LFRF1R",cartola:"G-92SLBZ88H9",home:"G-P4F3TC8HVE",vitrine:"G-G5YX0X0P68",dev:"G-TS3NSWZB4P"}[Object.keys(o).find((e=>o[e].test(r)))]}}},710:(e,t,n)=>{const{setGTMProperty:o}=n(910);e.exports.variablesMap={user_code:e=>{o("bd_suser_code",e)},user_provider:e=>{o("bd_suser_provider",e)}}},141:(e,t,n)=>{const{getCookie:o}=n(346),{retrievePayload:r}=n(68),{isValidExpDate:i}=n(853),{getUserFromUsergate:a}=n(512),s="user_gate_data";e.exports.userResolver=function(){let e=null,t=!1,n=(async()=>{let n=function(){const e=localStorage.getItem(s);if(!e)return null;const t=JSON.parse(e);return function(e){return e.valid&&i(e.exp)&&function(){try{const e=o("GLOBO_ID");return e?r(e).globoId:null}catch(e){return null}}()===e.code}(t)?t:(localStorage.removeItem(s),null)}();n||(n=await a()),t=!0,e=n})();return{getUserCode:async()=>(t||await n,e.code),getUserProvider:async()=>(t||await n,e.provider)}}},927:(e,t,n)=>{const{sendGTMEvent:o}=n(910),{buildLibErrorMessage:r,printWarningMessage:i}=n(422),a=["gtm","gtag"];function s(e){let t=window.libAnalytics.data;const n=e.gtmEventName||"libAnalyticsGA4Event";let r=function(e){let n={};return(e=e||[]).forEach(((e,o)=>{const{item:r,variable:i}={string:{item:e,variable:e},object:{item:e.param,variable:e.source}}[typeof e];let a=`var${o+1}_name`,s=`var${o+1}_value`,u=t&&t.$eventTempData?t.$eventTempData[i]:null,c=t[i];n[a]=r,n[s]=u||c})),n},i={ga4EventName:e.eventName,ga4MetricId:e.metricId||t.ga4MetricId,ga4EventParams:r(e.eventParams),ga4UserProperties:r(e.userProperties)};o(n,i),o("clearLibAnalyticsGA4EventData",{ga4EventName:null,ga4MetricId:null,ga4EventParams:null,ga4UserProperties:null})}e.exports={insertGtagOnPage:function(e){const t=`\n    \x3c!-- Google tag (gtag.js) --\x3e\n    <script async src="https://www.googletagmanager.com/gtag/js?id=${e}"><\/script>\n    <script>\n        window.dataLayer = window.dataLayer || [];\n        function gtag(){dataLayer.push(arguments);}\n        gtag('js', new Date());\n\n        gtag('config', '${e}');\n    <\/script>\n  `;document.getElementsByTagName("head")[0].innerHTML+=t},sendEvent:function(e){!function(e){if("string"!=typeof e.method)throw r({levels:["Send","Event","GA4"],message:"O event.method precisa ser uma string.",tip:"Verifique se o event.method está preenchido."});if(!a.includes(e.method))throw r({levels:["Send","Event","GA4"],message:"O event.method precisa ser válido.",tip:"O método informado não é suportado. Verifique se está correto."});if("string"!=typeof e.eventName)throw r({levels:["Send","Event","GA4"],message:"O event.eventName não está preenchido corretamente ou não foi informado."})}(e),(0,{gtag:e=>{i({levels:["Send","Event","GA4"],message:"O método gtag ainda não está disponível",tip:"Procure bigdata.delivery@g.globo para entender o roadmap."})},gtm:s}[e.method])(e)}}},430:(e,t,n)=>{const{buildLibErrorMessage:o,printWarningMessage:r}=n(422);e.exports={sendEvent:function(e){!function(e){const t=["Send","Event","Horizon"];["id","version","contentType"].forEach((n=>{if(!e[n]||"string"!=typeof e[n])throw o({levels:t,message:`O event.${n} precisa estar preenchido e ser uma string.`})}))}(e);const t=function(e){let t=window.libAnalytics.data,n={};e.properties=e.properties||{};let o=e.url||window.libAnalytics.data.url;o||(o="",r({levels:["Send","Event","Horizon"],message:"A url do Horizon está vazia pois event.url não foi informado."})),Object.keys(e.properties).forEach((o=>{let r=e.properties[o];const{item:i,variable:a}={string:{item:r,variable:r},object:{item:r.param,variable:r.source}}[typeof r];n[i]=t&&t.$eventTempData?t.$eventTempData[a]:t[a]}));let i={id:e.id,version:e.version,contentType:e.contentType};return i.url=o,i.properties=n,i}(e);try{window.libAnalytics.tools.horizon.client.send(t)}catch(e){throw o({levels:["Send","Event","Horizon"],message:`O client do Horizon retornou o seguinte erro: ${e.message}`})}}}},801:(e,t,n)=>{const o=n(927),r=n(430),{buildLibErrorMessage:i,printWarningMessage:a}=n(422);function s(e){!function(e){if("object"!=typeof e||null==e||0===Object.keys(e).length)throw i({levels:["Send","Event"],message:"O objeto eventData não foi fornecido ou está vazio."});if("object"!=typeof e.events||!Array.isArray(e.events)||e.events.length<1)throw i({levels:["Send","Event"],message:"Array de eventos ausente ou está vazio."})}(e),function(e){if("object"!=typeof window.libAnalytics.data||null===window.libAnalytics.data||void 0===window.libAnalytics.data)throw i({levels:["Send","Event"],message:"O datalayer do LibAnalytics ainda não está disponível.",tip:"Você pode aguardar o LibAnalytics ficar disponível verificando o evento emitido pela lib ou verificar em status."});let t={},n={};"object"==typeof e&&Array.isArray(e)&&(e.forEach((e=>{e.persist&&(n[e.key]=e.value),t[e.key]=e.value})),window.libAnalytics.data.set(n),window.libAnalytics.data.set({$eventTempData:t}))}(e.data),e.events.forEach((e=>{try{if("string"!=typeof e.type)throw i({levels:["Send","Event"],message:"Tipo de evento precisa ser uma string."});const t={ga4:e=>{o.sendEvent(e)},horizon:e=>{r.sendEvent(e)},common:e=>{a({levels:["Send","Event","Common"],message:"O tipo Common de eventos ainda não está disponível",tip:"Procure bigdata.delivery@g.globo para entender o roadmap."})}},n=t[e.type];if("function"!=typeof n)throw i({levels:["Send","Event"],message:"Tipo de evento inválido."});n(e)}catch(e){console.error(e.message)}}))}e.exports.p=function(){return{event:s}}},512:(e,t,n)=>{const{addDays:o}=n(853);async function r(){const e=await async function(){try{const e=await fetch("https://usergate.globo.com",{credentials:"include"}),t=await e.text();if(t.toLowerCase().startsWith("error"))return{code:null,provider:null,valid:!1};const[n,o]=t.split(":");return{code:n,provider:o,valid:!0}}catch(e){return{code:null,provider:null,valid:!1}}}();return e.valid&&"cadun"===e.provider&&function(e){if(!e.valid)return;const t=o(new Date,1),n={...e,exp:t.getTime()};localStorage.setItem("user_gate_data",JSON.stringify(n))}(e),e}const i=async function(){return new Promise((e=>{setTimeout(e,800,(()=>{}))}))};e.exports.getUserFromUsergate=async function(){return Promise.race([r(),i()]).then((e=>e))}},61:e=>{e.exports.E=function(){return{available:!1,dataAvailable:!1,errors:[],version:"1.0.6"}}},802:e=>{e.exports.getCdaasSettingsProperty=function(e){return window.cdaaas&&window.cdaaas.SETTINGS?window.cdaaas.SETTINGS[e]:null}},910:e=>{e.exports.getGTMProperty=function(e){if(!window.dataLayer)return null;const t=[...window.dataLayer].reverse().find((t=>Object.keys(t).includes(e)));return void 0!==t?t[e]:null},e.exports.setGTMProperty=function(e,t){window.dataLayer||(window.dataLayer=[]);const n={};n[e]=t,window.dataLayer.push(n)},e.exports.sendGTMEvent=function(e,t){window.dataLayer||(window.dataLayer=[]),t=t||{},window.dataLayer.push({event:e,...t})}},171:(e,t,n)=>{const{getCdaasSettingsProperty:o}=n(802),{getTealiumProperty:r}=n(848);function i(){return o("SITE_ID")||r("ut.profile")||function(){const e=window.location.hostname,t={g1:/([\S]*g1.globo.com[\S]*)|([\S]*especiaisg1.globo[\S]*)|([\S]*especiais.g1.globo[\S]*)/i,"dev-beta":/([\S]*dev.globo.com[\S]*)/i};return Object.keys(t).find((n=>t[n].test(e)))}()||"unknown"}e.exports={getHorizonTenant:i,getHorizonClient:function(){const{HorizonClient:e}=n(38);return new e(window?.libAnalytics?.data?.horizonTenant||i())}}},848:e=>{e.exports.getTealiumProperty=function(e){return window.utag_data?window.utag_data[e]||null:window.utag&&window.utag.data&&window.utag.data[e]||null}},262:(e,t,n)=>{e.exports.t=function(){const e=n(910),t=n(171);return{gtm:{getProperty:e.getGTMProperty},horizon:{client:t.getHorizonClient(),getTenant:t.getHorizonTenant}}}},346:e=>{e.exports.getCookie=function(e){const t=document.cookie.match(new RegExp(`${e}=([^;]+)`));return t?t[1]:null}},853:(e,t,n)=>{"use strict";function o(e){return new Date(e)>=new Date}function r(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}n.r(t),n.d(t,{addDays:()=>r,isValidExpDate:()=>o})},422:e=>{e.exports.buildLibErrorMessage=function(e){let t=["LibAnalytics",...e.levels]||["LibAnalytics"],n=e.message||"Ocorreu um erro",o=e.tip||"";const r="".concat("\n",t.join(" | ")," => ",n,"\n",o?`Dica: ${o}`:"");return new Error(r)},e.exports.printWarningMessage=function(e){let t=["LibAnalytics",...e.levels]||["LibAnalytics"],n=e.message||"Ocorreu um erro",o=e.tip||"";const r="".concat("\n",t.join(" | ")," => ",n,"\n",o?`Dica: ${o}`:"");console.warn(r)}},242:(e,t,n)=>{e.exports={emitDatalayerLoadedEvent:function(){const e="libAnalyticsDatalayerAvailable",{sendGTMEvent:t}=n(910),o=new Event(e);window.dispatchEvent(o),t(e)},emitLibAnalyticsAvailableEvent:function(){const e="libAnalyticsAvailable",{sendGTMEvent:t}=n(910),o=new Event(e);window.dispatchEvent(o),t(e)},emitWindowEvent:function(e,t){const{sendGTMEvent:o}=n(910),r=new Event(e);window.dispatchEvent(r),t.gtm&&o(e)}}},68:(e,t,n)=>{"use strict";function o(e){const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((e=>`%${("00"+e.charCodeAt(0).toString(16)).slice(-2)}`)).join(""));return JSON.parse(n)}n.r(t),n.d(t,{retrievePayload:()=>o})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(801),t=n(306),o=n(251),r=n(262),i=n(61),a=n(242);function s(){let n={data:(0,t.i)(),tools:(0,r.t)(),send:(0,e.p)(),status:(0,i.E)(),config:(0,o.g)(),init:window.libAnalytics?.init||{}};return new Proxy(n,{set:function(e,t,n){return["send","tools","config","data","status"].includes(t)?(console.warn("Não é possível substituir "+t+" em libAnalytics!"),!1):(Reflect.set(...arguments),"init"===t&&c(),!0)}})}function u(e){e.status.available=!0,window.libAnalytics=e}function c(){window.libAnalytics&&window.libAnalytics.init&&window.libAnalytics.config.apply(window.libAnalytics.init)}(async e=>{u(s()),c(),(0,a.emitLibAnalyticsAvailableEvent)(),await(0,t.m)(),(0,a.emitDatalayerLoadedEvent)(),e.libAnalytics.status.dataAvailable=!0})(window)})()})();